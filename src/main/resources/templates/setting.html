<!DOCTYPE html>
<html lang="zxx" xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layouts/layout}">
<div layout:fragment="content">
	<section class="features-area section-bg">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-6 col-12">
				</div>
			</div>
			<br /><br />
		</div>
	</section>

	<div id="layoutAuthentication">
		<div id="layoutAuthentication_content">
			<main>
				<div class="container">
					<div class="row">
						<div class="col-12">
							<div class="blog-comments-form">
								<div class="con-4 bottom-title">
									<h2>Setting 등록</h2>

								</div>
								<!-- Comment Form -->
								<form class="form">
									<div class="row">
										<div class="col-6">
											<div class="form-group">
												<label>회사 명칭</label>
												<input type="text" name="company" id="company" required="required" placeholder="회사명">
											</div>
										</div>
										<div class="col-12">
											<div class="form-group">
												<label>그래프 사용여부</label>
												<input type="radio" name="useYn" id="usey" placeholder="radio" style="width: 16px; vertical-align: middle;padding-left: 3px;" value="YES"> YES
												<input type="radio" name="useYn" id="usen" placeholder="radio" style="width: 16px; vertical-align: middle;padding-left: 3px;" value="NO"> NO
											</div>
										</div>
										<div class="col-12">
											<div class="form-group">
												<label>그래프 기간</label>
												<input type="number" name="graphDay" id="graphDay" required="required" >
											</div>
										</div>

										<div class="col-6">
											<div class="form-group">
												<label>그래프 전력 최소값</label>
												<input type="number" name="graphMin" id="graphMin" required="required" >
											</div>
										</div>
										<div class="col-6">
											<div class="form-group">
												<label>그래프 전력 최대값</label>
												<input type="number" name="graphMax" id="graphMax" required="required">
											</div>
										</div>
										<div class="col-6">
											<div class="form-group">
												<label>기기 연결 대기 시간(초단위)</label>
												<input type="number" name="waitTime" id="waitTime" required="required">
											</div>
										</div>
										<div class="col-12">
											<div class="form-group">
												<label>5분계측기 시간 설정</label>
												<input type="radio" name="graphTime" id="graphTimefive" placeholder="radio" style="width: 16px; vertical-align: middle;padding-left: 3px;" value="5"> 5분
												<input type="radio" name="graphTime" id="graphTimefifteen" placeholder="radio" style="width: 16px; vertical-align: middle;padding-left: 3px;" value="15"> 15분
											</div>
										</div>
										<div class="col-12" style="display: none">
											<div class="form-group">
												<label >미세먼지 지역</label>
												<select id="dust" name="dust">
													<option value="1">서울 서울권역(서울특별시 전 지역)</option>
													<option value="2">부산 남부권역(동구, 서구, 남구, 중구, 수영구, 영도구, 해운대구)</option>
													<option value="3">부산 동부권역(기장군)</option>
													<option value="4">부산 서부권역(강서구, 북구, 사상구, 사하구)</option>
													<option value="5">부산 중부권역(금정구, 동래구, 연제구, 부산진구)</option>
													<option value="6">대구 대구권역(대구광역시 전 지역)</option>
													<option value="7">인천 강화권역(강화군)</option>
													<option value="8">인천 동남부권역(계양구, 부평구, 미추홀구, 연수구, 남동구)</option>
													<option value="9">인천 서부권역(서구, 중구(영종도 ․ 용유도 제외), 동구)</option>
													<option value="10">인천 영종·영흥권역(중구(영종도·용유도), 옹진군(영흥))</option>
													<option value="11">광주 광주권역(광주광역시 전 지역)</option>
													<option value="12">대전 동부권역(동구, 대덕구, 중구)</option>
													<option value="13">대전 서부권역(서구, 유성구)</option>
													<option value="14">울산 울산권역(울산광역시 전 지역)</option>
													<option value="15">세종 세종권역(세종시 전 권역)</option>
													<option value="16">경기 남부권(용인시, 평택시, 안성시, 이천시, 여주시)</option>
													<option value="17">경기 동부권(남양주시, 구리시, 하남시, 광주시, 성남시, 가평군, 양평군)</option>
													<option value="18">경기 북부권(김포시, 고양시, 의정부시, 파주시, 연천군, 양주시, 동두천시, 포천시)</option>
													<option value="19">경기 중부권(수원시, 안산시, 안양시, 부천시, 시흥시, 광명시, 군포시, 의왕시, 과천시, 화성시, 오산시)</option>
													<option value="20">강원 영서북부(춘천시, 철원군, 양구군, 홍천군, 화천군, 인제군)</option>
													<option value="21">강원 영서남부(원주시, 횡성군, 평창군, 영월군, 정선군)</option>
													<option value="22">강원 영동북부(고성군, 양양군, 속초시)</option>
													<option value="23">강원 영동남부(강릉시, 동해시, 삼척시, 태백시)</option>
													<option value="24">충북 북부권역(충주시, 제천시, 단양군)</option>
													<option value="25">충북 중부권역(청주시, 증평군, 진천군, 괴산군, 음성군)</option>
													<option value="26">충북 남부권역(보은군, 옥천군, 영동군)</option>
													<option value="27">충남 동남부권역(공주시, 청양군, 부여군, 논산시, 계룡시, 금산군)</option>
													<option value="28">충남 북부권역(천안시, 아산시, 당진시)</option>
													<option value="29">충남 서부권역(서산시, 태안군, 예산군, 홍성군, 보령시, 서천군)</option>
													<option value="30">전북 중부권역(전주시, 익산시, 완주군)</option>
													<option value="31">전북 서부권역(군산시, 정읍시, 김제시, 고창군, 부안군)</option>
													<option value="32">전북 동부권역(남원시, 진안군, 무주군, 장수군, 임실군, 순창군)</option>
													<option value="33">전남 동부권역(순천시, 여수시, 광양시, 담양군, 곡성군, 구례군, 고흥군, 보성군, 화순군, 장흥군)</option>
													<option value="34">전남 서부권역(목포시, 나주시, 강진군, 해남군, 영암군, 무안군, 함평군, 영광군, 장성군, 완도군, 진도군, 신안군)</option>
													<option value="35">경북 동부권역(포항시, 경주시, 경산시, 영천시, 청도군, 청송군, 영덕군, 영양군, 봉화군, 울진군)</option>
													<option value="36">경북 서부권역(구미시, 김천시, 안동시, 영주시, 상주시, 문경시, 예천군, 의성군, 군위군, 성주군, 고령군, 칠곡군)</option>
													<option value="37">경북 울릉권역(울릉군)</option>
													<option value="38">경남 거제권역(거제시)</option>
													<option value="39">경남 거창권역(거창군)</option>
													<option value="40">경남 고성권역(고성군)</option>
													<option value="41">경남 김해권역(김해시)</option>
													<option value="42">경남 남해권역(남해군)</option>
													<option value="43">경남 밀양권역(밀양시)</option>
													<option value="44">경남 사천권역(사천시)</option>
													<option value="45">경남 산청권역(산청군)</option>
													<option value="46">경남 양산권역(양산시)</option>
													<option value="47">경남 의령권역(의령군)</option>
													<option value="48">경남 진주권역(진주시)</option>
													<option value="49">경남 창녕권역(창녕군)</option>
													<option value="50">경남 창원권역(창원시)</option>
													<option value="51">경남 통영권역(통영시)</option>
													<option value="52">경남 하동권역(하동군)</option>
													<option value="53">경남 함안권역(함안군)</option>
													<option value="54">경남 함양권역(함양군)</option>
													<option value="55">경남 합천권역(합천군)</option>
													<option value="56">제주 제주권(제주 전 지역)</option>
												</select>
											</div>
										</div>
										<p style="padding: 10px;"></p>
										<div class="col-12">
											<div class="form-group button">
												<button id="saveBtn" type="button" class="bizwheel-btn primary effect"  onclick="save()">저장&nbsp;&nbsp; <i class="fa fa-paper-plane"></i></button>
											</div>
										</div>
									</div>
								</form>
								<!--/ End Comment Form -->
							</div>
						</div>
					</div>
				</div>
			</main>
		</div>

	</div>
	<script type="text/javascript">
		let formData = new FormData();
		$(document).ready(function() {

			init();

		});


		function save(){

			var jObject = new Object();
			jObject.company = $('#company').val();
			jObject.graph = $('input[name="useYn"]:checked').val();
			jObject.graphDay = $('#graphDay').val();
			jObject.graphMin = $('#graphMin').val();
			jObject.graphMax = $('#graphMax').val();
			jObject.dust = $('#dust').val();
			jObject.graphTime = $('input[name="graphTime"]:checked').val();
			jObject.waitTime = $('#waitTime').val();
			//initInput();
			var data = JSON.stringify(jObject);
			console.log(jObject);
			$.ajax({
				url:'/pageSet', //request 보낼 서버의 경로
				type:'post', // 메소드(get, post, put 등)
				data: data, //보낼 데이터
				headers: {'Content-Type': 'application/json'},
				success: function(data) {
					alert("저장완료")
				},
				error: function(err) {
					//서버로부터 응답이 정상적으로 처리되지 못햇을 때 실행
				}
			});

		}


		function init(num) {

			$.ajax({
				url:'/pageSet', //request 보낼 서버의 경로
				type:'get', // 메소드(get, post, put 등)
				headers: {'Content-Type': 'application/json'},
				success: function(data) {

					const dcplist = data.data;
					console.log(dcplist.id);

					$('#company').val(dcplist.company);
					$('#graphDay').val(dcplist.graphDay);
					$('#graphMin').val(dcplist.graphMin);
					$('#graphMax').val(dcplist.graphMax);
					$('#dust').val(dcplist.dust);
					$('#waitTime').val(dcplist.waitTime)
					if(dcplist.graph == "YES"){
						$("#usey").prop('checked', true);
					}else{
						$("#usen").prop('checked', true);
					}

					if(dcplist.graphTime == "5"){
						$("#graphTimefive").prop('checked', true);
					}else{
						$("#graphTimefifteen").prop('checked', true);
					}

				},
				error: function(err) {
					//서버로부터 응답이 정상적으로 처리되지 못햇을 때 실행
				}
			});
		}

	</script>
</div>

</html>